{% extends "base.html" %}

{% block main_content %}

<h1>{{ page_title }}</h1>

<!-- Display Profile Picture -->
<div>
    {% if profile_pic %}
        <img src="{{ profile_pic }}" alt="Profile Picture" width="100" height="100">
    {% else %}
        <p>No profile picture uploaded.</p>
    {% endif %}
</div>

<!-- Profile Information Section -->
<h2>Profile Information</h2>
<form action="{{ url_for('editProfile') }}" method="POST">
    <label for="profile_desc">Profile Description:</label>
    <textarea name="profile_desc" id="profile_desc" rows="4" cols="50">{{ user.profile_desc }}</textarea><br><br>

    <label for="location">Location:</label>
    <input type="text" name="location" id="location" value="{{ user.location }}"><br><br>

    <label for="hobbies">Hobbies:</label>
    <input type="text" name="hobbies" id="hobbies" value="{{ user.hobbies }}"><br><br>

    <button type="submit">Save Changes</button>
</form>

<!-- Change Profile Picture Section -->
<h2>Change Profile Picture</h2>
<form action="{{ url_for('upload_profile_pic') }}" method="POST" enctype="multipart/form-data">
    <input type="file" name="profile_pic" accept="image/*">
    <button type="submit">Upload Profile Picture</button>
</form>

<!-- Edit Buttons for Each Section -->
<div>
    <a href="{{ url_for('editProfile', uid=user.user_id) }}">
        <button>Edit Profile</button>
    </a>
</div>

<!-- Flash Messages Section -->
{% with messages = get_flashed_messages() %}
    {% if messages %}
        <ul>
        {% for message in messages %}
            <li>{{ message }}</li>
        {% endfor %}
        </ul>
    {% endif %}
{% endwith %}

{% endblock %}
